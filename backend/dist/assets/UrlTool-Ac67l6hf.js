import{r as e,c as a,B as l,z as t,E as o,C as s,K as u,D as d,ak as r,J as n,ah as c,M as p,O as v,P as i,a4 as m,u as h}from"./vue-vendor-CYJ4K8iR.js";import{n as f,E as b}from"./element-plus-rCXJXZ29.js";import{_ as y}from"./index-BgaygjGV.js";import"./mermaid-DyLeeZ5J.js";const U={class:"tool-container"},_={class:"tab-content"},k={class:"editor-panel"},V={class:"button-group"},R={class:"editor-panel"},C={class:"panel-header"},g={class:"parse-content"},x={class:"input-section"},L={key:0,class:"parsed-result"},w={key:0,class:"query-params"},I={class:"build-content"},j={class:"base-url-input"},P={class:"params-builder"},z={class:"built-url"},$={class:"panel-header"},E={class:"url-preview"},H={key:0,class:"error-msg"},T=y({__name:"UrlTool",setup(y){const T=e("encode"),q=e(""),B=e(""),D=e(""),J=e(null),K=e([]),M=e("https://example.com/api"),O=e([{key:"",value:""}]),S=e(""),A=()=>{try{B.value=encodeURI(q.value),S.value=""}catch(e){S.value="编码错误: "+e.message}},F=()=>{try{q.value=decodeURI(B.value),S.value=""}catch(e){S.value="解码错误: "+e.message}},G=()=>{try{B.value=encodeURIComponent(q.value),S.value=""}catch(e){S.value="编码错误: "+e.message}},N=async()=>{try{await navigator.clipboard.writeText(B.value),b.success("已复制")}catch(e){b.error("复制失败")}},Q=()=>{if(!D.value)return J.value=null,void(K.value=[]);try{const e=new URL(D.value);J.value={protocol:e.protocol,host:e.host,hostname:e.hostname,port:e.port,pathname:e.pathname,search:e.search,hash:e.hash},K.value=[],e.searchParams.forEach((e,a)=>{K.value.push({key:a,value:e,decoded:decodeURIComponent(e)})}),S.value=""}catch(e){S.value="URL 解析错误: "+e.message,J.value=null,K.value=[]}},W=()=>{O.value.push({key:"",value:""})},X=a(()=>{if(!M.value)return"";const e=O.value.filter(e=>e.key).map(e=>`${encodeURIComponent(e.key)}=${encodeURIComponent(e.value)}`).join("&");return e?`${M.value}?${e}`:M.value}),Y=async()=>{try{await navigator.clipboard.writeText(X.value),b.success("已复制")}catch(e){b.error("复制失败")}};return(e,a)=>{const b=r("el-button"),y=r("el-tab-pane"),Z=r("el-input"),ee=r("el-descriptions-item"),ae=r("el-descriptions"),le=r("el-table-column"),te=r("el-table"),oe=r("el-tabs"),se=r("el-alert");return t(),l("div",U,[a[20]||(a[20]=o("div",{class:"tool-header"},[o("h2",null,"URL 编解码工具")],-1)),s(oe,{modelValue:T.value,"onUpdate:modelValue":a[4]||(a[4]=e=>T.value=e),class:"tool-tabs"},{default:d(()=>[s(y,{label:"URL 编解码",name:"encode"},{default:d(()=>[o("div",_,[o("div",k,[a[5]||(a[5]=o("div",{class:"panel-header"},"原始文本",-1)),n(o("textarea",{"onUpdate:modelValue":a[0]||(a[0]=e=>q.value=e),class:"code-editor",placeholder:"输入要编码的文本...",spellcheck:"false"},null,512),[[c,q.value]])]),o("div",V,[s(b,{type:"primary",onClick:A},{default:d(()=>[...a[6]||(a[6]=[p(" 编码 → ",-1)])]),_:1}),s(b,{type:"success",onClick:F},{default:d(()=>[...a[7]||(a[7]=[p(" ← 解码 ",-1)])]),_:1}),s(b,{onClick:G},{default:d(()=>[...a[8]||(a[8]=[p(" 组件编码 ",-1)])]),_:1})]),o("div",R,[o("div",C,[a[10]||(a[10]=p(" 编码结果 ",-1)),s(b,{size:"small",onClick:N},{default:d(()=>[...a[9]||(a[9]=[p("复制",-1)])]),_:1})]),n(o("textarea",{"onUpdate:modelValue":a[1]||(a[1]=e=>B.value=e),class:"code-editor",placeholder:"URL 编码结果...",spellcheck:"false"},null,512),[[c,B.value]])])])]),_:1}),s(y,{label:"URL 解析",name:"parse"},{default:d(()=>[o("div",g,[o("div",x,[s(Z,{modelValue:D.value,"onUpdate:modelValue":a[2]||(a[2]=e=>D.value=e),placeholder:"输入完整 URL，如 https://example.com/path?param=value#hash",size:"large",onInput:Q},{prepend:d(()=>[...a[11]||(a[11]=[p("URL",-1)])]),append:d(()=>[s(b,{onClick:Q},{default:d(()=>[...a[12]||(a[12]=[p("解析",-1)])]),_:1})]),_:1},8,["modelValue"])]),J.value?(t(),l("div",L,[s(ae,{column:1,border:""},{default:d(()=>[s(ee,{label:"协议 (Protocol)"},{default:d(()=>[p(v(J.value.protocol),1)]),_:1}),s(ee,{label:"主机 (Host)"},{default:d(()=>[p(v(J.value.host),1)]),_:1}),s(ee,{label:"主机名 (Hostname)"},{default:d(()=>[p(v(J.value.hostname),1)]),_:1}),s(ee,{label:"端口 (Port)"},{default:d(()=>[p(v(J.value.port||"(默认)"),1)]),_:1}),s(ee,{label:"路径 (Pathname)"},{default:d(()=>[p(v(J.value.pathname),1)]),_:1}),s(ee,{label:"查询字符串 (Search)"},{default:d(()=>[p(v(J.value.search||"(无)"),1)]),_:1}),s(ee,{label:"哈希 (Hash)"},{default:d(()=>[p(v(J.value.hash||"(无)"),1)]),_:1})]),_:1}),K.value.length>0?(t(),l("div",w,[a[13]||(a[13]=o("h4",null,"查询参数",-1)),s(te,{data:K.value,border:"",stripe:""},{default:d(()=>[s(le,{prop:"key",label:"参数名"}),s(le,{prop:"value",label:"值"}),s(le,{prop:"decoded",label:"解码后的值"})]),_:1},8,["data"])])):u("",!0)])):u("",!0)])]),_:1}),s(y,{label:"参数构建",name:"build"},{default:d(()=>[o("div",I,[o("div",j,[s(Z,{modelValue:M.value,"onUpdate:modelValue":a[3]||(a[3]=e=>M.value=e),placeholder:"输入基础 URL，如 https://example.com/api"},{prepend:d(()=>[...a[14]||(a[14]=[p("基础 URL",-1)])]),_:1},8,["modelValue"])]),o("div",P,[a[17]||(a[17]=o("h4",null,"添加参数",-1)),(t(!0),l(i,null,m(O.value,(e,u)=>(t(),l("div",{key:u,class:"param-row"},[s(Z,{modelValue:e.key,"onUpdate:modelValue":a=>e.key=a,placeholder:"参数名",style:{width:"200px"}},null,8,["modelValue","onUpdate:modelValue"]),a[15]||(a[15]=o("span",null,"=",-1)),s(Z,{modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,placeholder:"参数值",style:{flex:"1"}},null,8,["modelValue","onUpdate:modelValue"]),s(b,{type:"danger",icon:h(f),circle:"",onClick:e=>(e=>{O.value.splice(e,1)})(u)},null,8,["icon","onClick"])]))),128)),s(b,{type:"primary",onClick:W},{default:d(()=>[...a[16]||(a[16]=[p("添加参数",-1)])]),_:1})]),o("div",z,[o("div",$,[a[19]||(a[19]=p(" 生成的 URL ",-1)),s(b,{size:"small",onClick:Y},{default:d(()=>[...a[18]||(a[18]=[p("复制",-1)])]),_:1})]),o("div",E,v(X.value),1)])])]),_:1})]),_:1},8,["modelValue"]),S.value?(t(),l("div",H,[s(se,{title:S.value,type:"error","show-icon":"",closable:!1},null,8,["title"])])):u("",!0)])}}},[["__scopeId","data-v-5e699f2e"]]);export{T as default};
