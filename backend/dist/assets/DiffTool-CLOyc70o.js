import{r as e,c as l,B as a,z as s,E as t,K as d,C as o,D as r,ak as u,J as i,ah as n,M as c,O as v,P as f,a4 as p,G as m}from"./vue-vendor-CYJ4K8iR.js";import{d as h,a as _,b as k}from"./diff-Xf-o891C.js";import{_ as g}from"./index-CT3p-j8z.js";import"./element-plus-dcQV5w3x.js";import"./mermaid-BoZA0hCz.js";const y={class:"tool-container"},b={class:"tool-header"},j={class:"actions"},x={class:"editor-container"},V={class:"editor-panel"},w={class:"editor-panel"},C={key:0,class:"diff-result"},D={class:"panel-header"},E={class:"diff-stats"},S={class:"added"},T={class:"removed"},U={class:"diff-content"},z=g({__name:"DiffTool",setup(g){const z=e(""),A=e(""),L=e([]),q=e("lines"),B=e(null),F=e(null);let G=!1;const I=e=>{if(G)return;G=!0;const l="left"===e?B.value:F.value,a="left"===e?F.value:B.value;l&&a&&(a.scrollTop=l.scrollTop,a.scrollLeft=l.scrollLeft),requestAnimationFrame(()=>{G=!1})},J=l(()=>L.value.filter(e=>e.added).reduce((e,l)=>e+l.value.length,0)),K=l(()=>L.value.filter(e=>e.removed).reduce((e,l)=>e+l.value.length,0)),M=()=>{let e;switch(q.value){case"chars":e=k;break;case"words":e=_;break;default:e=h}L.value=e(z.value,A.value)},O=()=>{const e=z.value;z.value=A.value,A.value=e,L.value.length>0&&M()},P=()=>{z.value="",A.value="",L.value=[]};return(e,l)=>{const h=u("el-radio-button"),_=u("el-radio-group"),k=u("el-button"),g=u("Switch"),G=u("el-icon");return s(),a("div",y,[t("div",b,[l[11]||(l[11]=t("h2",null,"Diff 对比工具",-1)),t("div",j,[o(_,{modelValue:q.value,"onUpdate:modelValue":l[0]||(l[0]=e=>q.value=e),size:"default"},{default:r(()=>[o(h,{value:"chars"},{default:r(()=>[...l[5]||(l[5]=[c("字符级",-1)])]),_:1}),o(h,{value:"words"},{default:r(()=>[...l[6]||(l[6]=[c("单词级",-1)])]),_:1}),o(h,{value:"lines"},{default:r(()=>[...l[7]||(l[7]=[c("行级",-1)])]),_:1})]),_:1},8,["modelValue"]),o(k,{type:"primary",onClick:M,style:{"margin-left":"15px"}},{default:r(()=>[...l[8]||(l[8]=[c(" 对比 ",-1)])]),_:1}),o(k,{onClick:O},{default:r(()=>[o(G,null,{default:r(()=>[o(g)]),_:1}),l[9]||(l[9]=c(" 交换 ",-1))]),_:1}),o(k,{onClick:P},{default:r(()=>[...l[10]||(l[10]=[c("清空",-1)])]),_:1})])]),t("div",x,[t("div",V,[l[12]||(l[12]=t("div",{class:"panel-header"},"原始文本",-1)),i(t("textarea",{ref_key:"leftEditor",ref:B,"onUpdate:modelValue":l[1]||(l[1]=e=>z.value=e),class:"code-editor",placeholder:"输入原始文本...",spellcheck:"false",onScroll:l[2]||(l[2]=e=>I("left"))},null,544),[[n,z.value]])]),t("div",w,[l[13]||(l[13]=t("div",{class:"panel-header"},"对比文本",-1)),i(t("textarea",{ref_key:"rightEditor",ref:F,"onUpdate:modelValue":l[3]||(l[3]=e=>A.value=e),class:"code-editor",placeholder:"输入要对比的文本...",spellcheck:"false",onScroll:l[4]||(l[4]=e=>I("right"))},null,544),[[n,A.value]])])]),L.value.length>0?(s(),a("div",C,[t("div",D,[l[14]||(l[14]=c(" 对比结果 ",-1)),t("span",E,[t("span",S,"+"+v(J.value),1),t("span",T,"-"+v(K.value),1)])]),t("div",U,[(s(!0),a(f,null,p(L.value,(e,l)=>(s(),a("span",{key:l,class:m({"diff-added":e.added,"diff-removed":e.removed})},v(e.value),3))),128))])])):d("",!0)])}}},[["__scopeId","data-v-84eb7417"]]);export{z as default};
