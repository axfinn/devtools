import{r as e,w as a,c as l,B as t,z as n,E as s,K as u,C as d,ak as o,D as r,J as i,ah as c,M as p,O as v,P as m,a4 as h,u as g,y as x}from"./vue-vendor-CYJ4K8iR.js";import{t as f,E as V}from"./element-plus-dcQV5w3x.js";import{_ as w}from"./index-CT3p-j8z.js";import"./mermaid-BoZA0hCz.js";const y={class:"tool-container"},_={class:"regex-input-section"},k={class:"regex-row"},b={class:"flag-toggles"},C={class:"editor-container"},M={class:"editor-panel"},U={class:"editor-panel result-panel"},H={class:"panel-header"},T={class:"match-count"},z=["innerHTML"],E={key:0,class:"matches-detail"},I={class:"detail-header"},L={key:0},R={key:1},j={key:1,class:"error-msg"},$={class:"common-patterns"},Y={class:"pattern-grid"},A=["onClick"],D={class:"pattern-name"},P={class:"pattern-regex"},Z=w({__name:"RegexTool",setup(w){const Z=e(""),S=e("g"),q=e("Hello World!\nTest email: test@example.com\nPhone: 138-1234-5678\nURL: https://www.example.com/path?query=value"),B=e([]),J=e(""),K=e(!0),O=e(!1),W=e(!1),F=e(!1),G=[{name:"邮箱",pattern:"[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}"},{name:"手机号",pattern:"1[3-9]\\d{9}"},{name:"URL",pattern:"https?://[\\w.-]+(?:/[\\w./?%&=-]*)?"},{name:"IP地址",pattern:"\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}"},{name:"中文",pattern:"[\\u4e00-\\u9fa5]+"},{name:"日期 YYYY-MM-DD",pattern:"\\d{4}-\\d{2}-\\d{2}"},{name:"时间 HH:MM:SS",pattern:"\\d{2}:\\d{2}:\\d{2}"},{name:"整数",pattern:"-?\\d+"},{name:"浮点数",pattern:"-?\\d+\\.\\d+"},{name:"HTML标签",pattern:"<[^>]+>"},{name:"空白行",pattern:"^\\s*$"},{name:"首尾空白",pattern:"^\\s+|\\s+$"}],N=()=>{let e="";K.value&&(e+="g"),O.value&&(e+="i"),W.value&&(e+="m"),F.value&&(e+="s"),S.value=e,Q()};a(S,e=>{K.value=e.includes("g"),O.value=e.includes("i"),W.value=e.includes("m"),F.value=e.includes("s")});const Q=()=>{if(B.value=[],J.value="",Z.value&&q.value)try{const e=new RegExp(Z.value,S.value);let a,l=0;if(S.value.includes("g"))for(;null!==(a=e.exec(q.value));)B.value.push({index:++l,match:a[0],position:a.index,groups:a.slice(1)}),0===a[0].length&&e.lastIndex++;else a=e.exec(q.value),a&&B.value.push({index:1,match:a[0],position:a.index,groups:a.slice(1)})}catch(e){J.value="正则表达式错误: "+e.message}},X=l(()=>{if(!Z.value||!q.value||J.value)return ee(q.value);try{new RegExp(Z.value,S.value.includes("g")?S.value:S.value+"g");return ee(q.value).replace(new RegExp(ee(Z.value),S.value.includes("g")?S.value:S.value+"g"),'<mark class="highlight">$&</mark>')}catch(e){return ee(q.value)}}),ee=e=>{const a=document.createElement("div");return a.textContent=e,a.innerHTML},ae=async()=>{if(0===B.value.length)return;const e=B.value.map(e=>e.match).join("\n");try{await navigator.clipboard.writeText(e),V.success(`已复制 ${B.value.length} 个匹配结果`)}catch(a){V.error("复制失败，请重试")}};return(e,a)=>{const l=o("el-input"),V=o("el-checkbox"),w=o("el-icon"),ee=o("el-button"),le=o("el-table-column"),te=o("el-tag"),ne=o("el-table"),se=o("el-alert");return n(),t("div",y,[a[18]||(a[18]=s("div",{class:"tool-header"},[s("h2",null,"正则表达式测试工具")],-1)),s("div",_,[s("div",k,[a[7]||(a[7]=s("span",{class:"regex-delimiter"},"/",-1)),d(l,{modelValue:Z.value,"onUpdate:modelValue":a[0]||(a[0]=e=>Z.value=e),placeholder:"输入正则表达式",class:"regex-input",onInput:Q},null,8,["modelValue"]),a[8]||(a[8]=s("span",{class:"regex-delimiter"},"/",-1)),d(l,{modelValue:S.value,"onUpdate:modelValue":a[1]||(a[1]=e=>S.value=e),placeholder:"gim",class:"flags-input",style:{width:"80px"},onInput:Q},null,8,["modelValue"])]),s("div",b,[d(V,{modelValue:K.value,"onUpdate:modelValue":a[2]||(a[2]=e=>K.value=e),onChange:N},{default:r(()=>[...a[9]||(a[9]=[p("g (全局匹配)",-1)])]),_:1},8,["modelValue"]),d(V,{modelValue:O.value,"onUpdate:modelValue":a[3]||(a[3]=e=>O.value=e),onChange:N},{default:r(()=>[...a[10]||(a[10]=[p("i (忽略大小写)",-1)])]),_:1},8,["modelValue"]),d(V,{modelValue:W.value,"onUpdate:modelValue":a[4]||(a[4]=e=>W.value=e),onChange:N},{default:r(()=>[...a[11]||(a[11]=[p("m (多行模式)",-1)])]),_:1},8,["modelValue"]),d(V,{modelValue:F.value,"onUpdate:modelValue":a[5]||(a[5]=e=>F.value=e),onChange:N},{default:r(()=>[...a[12]||(a[12]=[p("s (单行模式)",-1)])]),_:1},8,["modelValue"])])]),s("div",C,[s("div",M,[a[13]||(a[13]=s("div",{class:"panel-header"},"测试文本",-1)),i(s("textarea",{"onUpdate:modelValue":a[6]||(a[6]=e=>q.value=e),class:"code-editor",placeholder:"输入要测试的文本...",spellcheck:"false",onInput:Q},null,544),[[c,q.value]])]),s("div",U,[s("div",H,[a[14]||(a[14]=p(" 匹配结果 ",-1)),s("span",T,v(B.value.length)+" 个匹配",1)]),s("div",{class:"highlighted-text",innerHTML:X.value},null,8,z)])]),B.value.length>0?(n(),t("div",E,[s("div",I,[a[16]||(a[16]=s("h4",null,"匹配详情",-1)),d(ee,{type:"primary",size:"small",onClick:ae},{default:r(()=>[d(w,null,{default:r(()=>[d(g(f))]),_:1}),a[15]||(a[15]=p(" 复制所有匹配 ",-1))]),_:1})]),d(ne,{data:B.value,border:"",stripe:"","max-height":"300"},{default:r(()=>[d(le,{prop:"index",label:"#",width:"60"}),d(le,{prop:"match",label:"匹配内容"}),d(le,{prop:"position",label:"位置",width:"100"}),d(le,{label:"捕获组"},{default:r(({row:e})=>[0===e.groups.length?(n(),t("span",L,"-")):(n(),t("div",R,[(n(!0),t(m,null,h(e.groups,(e,a)=>(n(),x(te,{key:a,size:"small",style:{margin:"2px"}},{default:r(()=>[p(" $"+v(a+1)+": "+v(e),1)]),_:2},1024))),128))]))]),_:1})]),_:1},8,["data"])])):u("",!0),J.value?(n(),t("div",j,[d(se,{title:J.value,type:"error","show-icon":"",closable:!1},null,8,["title"])])):u("",!0),s("div",$,[a[17]||(a[17]=s("h4",null,"常用正则表达式",-1)),s("div",Y,[(n(),t(m,null,h(G,e=>s("div",{key:e.name,class:"pattern-card",onClick:a=>(e=>{Z.value=e.pattern,Q()})(e)},[s("div",D,v(e.name),1),s("div",P,v(e.pattern),1)],8,A)),64))])])])}}},[["__scopeId","data-v-6f795cf6"]]);export{Z as default};
