import{r as e,w as a,c as l,B as t,z as n,E as s,K as u,C as d,ak as o,D as r,J as i,ah as p,M as v,O as c,P as m,a4 as g,y as h}from"./vue-vendor-CdeIc39u.js";import{_ as x}from"./index-DnEAA98D.js";import"./element-plus-BIlKvLmW.js";import"./mermaid-Bo_AvqXD.js";const V={class:"tool-container"},f={class:"regex-input-section"},w={class:"regex-row"},k={class:"flag-toggles"},y={class:"editor-container"},_={class:"editor-panel"},b={class:"editor-panel result-panel"},M={class:"panel-header"},U={class:"match-count"},C=["innerHTML"],H={key:0,class:"matches-detail"},I={key:0},L={key:1},R={key:1,class:"error-msg"},T={class:"common-patterns"},z={class:"pattern-grid"},E=["onClick"],j={class:"pattern-name"},Y={class:"pattern-regex"},$=x({__name:"RegexTool",setup(x){const $=e(""),A=e("g"),D=e("Hello World!\nTest email: test@example.com\nPhone: 138-1234-5678\nURL: https://www.example.com/path?query=value"),P=e([]),Z=e(""),S=e(!0),q=e(!1),B=e(!1),J=e(!1),K=[{name:"邮箱",pattern:"[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}"},{name:"手机号",pattern:"1[3-9]\\d{9}"},{name:"URL",pattern:"https?://[\\w.-]+(?:/[\\w./?%&=-]*)?"},{name:"IP地址",pattern:"\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}"},{name:"中文",pattern:"[\\u4e00-\\u9fa5]+"},{name:"日期 YYYY-MM-DD",pattern:"\\d{4}-\\d{2}-\\d{2}"},{name:"时间 HH:MM:SS",pattern:"\\d{2}:\\d{2}:\\d{2}"},{name:"整数",pattern:"-?\\d+"},{name:"浮点数",pattern:"-?\\d+\\.\\d+"},{name:"HTML标签",pattern:"<[^>]+>"},{name:"空白行",pattern:"^\\s*$"},{name:"首尾空白",pattern:"^\\s+|\\s+$"}],O=()=>{let e="";S.value&&(e+="g"),q.value&&(e+="i"),B.value&&(e+="m"),J.value&&(e+="s"),A.value=e,W()};a(A,e=>{S.value=e.includes("g"),q.value=e.includes("i"),B.value=e.includes("m"),J.value=e.includes("s")});const W=()=>{if(P.value=[],Z.value="",$.value&&D.value)try{const e=new RegExp($.value,A.value);let a,l=0;if(A.value.includes("g"))for(;null!==(a=e.exec(D.value));)P.value.push({index:++l,match:a[0],position:a.index,groups:a.slice(1)}),0===a[0].length&&e.lastIndex++;else a=e.exec(D.value),a&&P.value.push({index:1,match:a[0],position:a.index,groups:a.slice(1)})}catch(e){Z.value="正则表达式错误: "+e.message}},F=l(()=>{if(!$.value||!D.value||Z.value)return G(D.value);try{new RegExp($.value,A.value.includes("g")?A.value:A.value+"g");return G(D.value).replace(new RegExp(G($.value),A.value.includes("g")?A.value:A.value+"g"),'<mark class="highlight">$&</mark>')}catch(e){return G(D.value)}}),G=e=>{const a=document.createElement("div");return a.textContent=e,a.innerHTML};return(e,a)=>{const l=o("el-input"),x=o("el-checkbox"),G=o("el-table-column"),N=o("el-tag"),Q=o("el-table"),X=o("el-alert");return n(),t("div",V,[a[17]||(a[17]=s("div",{class:"tool-header"},[s("h2",null,"正则表达式测试工具")],-1)),s("div",f,[s("div",w,[a[7]||(a[7]=s("span",{class:"regex-delimiter"},"/",-1)),d(l,{modelValue:$.value,"onUpdate:modelValue":a[0]||(a[0]=e=>$.value=e),placeholder:"输入正则表达式",class:"regex-input",onInput:W},null,8,["modelValue"]),a[8]||(a[8]=s("span",{class:"regex-delimiter"},"/",-1)),d(l,{modelValue:A.value,"onUpdate:modelValue":a[1]||(a[1]=e=>A.value=e),placeholder:"gim",class:"flags-input",style:{width:"80px"},onInput:W},null,8,["modelValue"])]),s("div",k,[d(x,{modelValue:S.value,"onUpdate:modelValue":a[2]||(a[2]=e=>S.value=e),onChange:O},{default:r(()=>[...a[9]||(a[9]=[v("g (全局匹配)",-1)])]),_:1},8,["modelValue"]),d(x,{modelValue:q.value,"onUpdate:modelValue":a[3]||(a[3]=e=>q.value=e),onChange:O},{default:r(()=>[...a[10]||(a[10]=[v("i (忽略大小写)",-1)])]),_:1},8,["modelValue"]),d(x,{modelValue:B.value,"onUpdate:modelValue":a[4]||(a[4]=e=>B.value=e),onChange:O},{default:r(()=>[...a[11]||(a[11]=[v("m (多行模式)",-1)])]),_:1},8,["modelValue"]),d(x,{modelValue:J.value,"onUpdate:modelValue":a[5]||(a[5]=e=>J.value=e),onChange:O},{default:r(()=>[...a[12]||(a[12]=[v("s (单行模式)",-1)])]),_:1},8,["modelValue"])])]),s("div",y,[s("div",_,[a[13]||(a[13]=s("div",{class:"panel-header"},"测试文本",-1)),i(s("textarea",{"onUpdate:modelValue":a[6]||(a[6]=e=>D.value=e),class:"code-editor",placeholder:"输入要测试的文本...",spellcheck:"false",onInput:W},null,544),[[p,D.value]])]),s("div",b,[s("div",M,[a[14]||(a[14]=v(" 匹配结果 ",-1)),s("span",U,c(P.value.length)+" 个匹配",1)]),s("div",{class:"highlighted-text",innerHTML:F.value},null,8,C)])]),P.value.length>0?(n(),t("div",H,[a[15]||(a[15]=s("h4",null,"匹配详情",-1)),d(Q,{data:P.value,border:"",stripe:"","max-height":"300"},{default:r(()=>[d(G,{prop:"index",label:"#",width:"60"}),d(G,{prop:"match",label:"匹配内容"}),d(G,{prop:"position",label:"位置",width:"100"}),d(G,{label:"捕获组"},{default:r(({row:e})=>[0===e.groups.length?(n(),t("span",I,"-")):(n(),t("div",L,[(n(!0),t(m,null,g(e.groups,(e,a)=>(n(),h(N,{key:a,size:"small",style:{margin:"2px"}},{default:r(()=>[v(" $"+c(a+1)+": "+c(e),1)]),_:2},1024))),128))]))]),_:1})]),_:1},8,["data"])])):u("",!0),Z.value?(n(),t("div",R,[d(X,{title:Z.value,type:"error","show-icon":"",closable:!1},null,8,["title"])])):u("",!0),s("div",T,[a[16]||(a[16]=s("h4",null,"常用正则表达式",-1)),s("div",z,[(n(),t(m,null,g(K,e=>s("div",{key:e.name,class:"pattern-card",onClick:a=>(e=>{$.value=e.pattern,W()})(e)},[s("div",j,c(e.name),1),s("div",Y,c(e.pattern),1)],8,E)),64))])])])}}},[["__scopeId","data-v-5e7aad00"]]);export{$ as default};
