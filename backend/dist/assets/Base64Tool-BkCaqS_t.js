import{r as e,B as a,z as l,E as s,C as t,K as o,D as d,ak as c,J as r,ah as u,M as i}from"./vue-vendor-CYJ4K8iR.js";import{_ as n}from"./index-CT3p-j8z.js";import{E as v}from"./element-plus-dcQV5w3x.js";import"./mermaid-BoZA0hCz.js";const p={class:"tool-container"},m={class:"tab-content"},g={class:"editor-panel"},h={class:"button-group"},y={class:"editor-panel"},f={class:"panel-header"},_={class:"image-tab-content"},b={class:"upload-section"},k={key:0,class:"image-preview"},w=["src"],x={key:1,class:"editor-panel"},U={class:"panel-header"},B={class:"decode-section"},C={key:0,class:"image-preview"},V=["src"],R={key:0,class:"error-msg"},j=n({__name:"Base64Tool",setup(n){const j=e("text"),D=e(""),z=e(""),I=e(""),T=e(""),E=e(""),F=e(""),L=e(""),A=()=>{try{z.value=btoa(unescape(encodeURIComponent(D.value))),L.value=""}catch(e){L.value="编码错误: "+e.message}},J=()=>{try{D.value=decodeURIComponent(escape(atob(z.value))),L.value=""}catch(e){L.value="解码错误: "+e.message}},K=async()=>{try{await navigator.clipboard.writeText(z.value),v.success("已复制")}catch(e){v.error("复制失败")}},M=e=>{const a=new FileReader;a.onload=e=>{I.value=e.target.result,T.value=e.target.result},a.readAsDataURL(e.raw)},P=async()=>{try{await navigator.clipboard.writeText(I.value),v.success("已复制")}catch(e){v.error("复制失败")}},W=()=>{try{let e=E.value.trim();e.startsWith("data:image")||(e="data:image/png;base64,"+e),F.value=e,L.value=""}catch(e){L.value="图片解码错误: "+e.message}};return(e,n)=>{const v=c("el-button"),q=c("el-tab-pane"),G=c("UploadFilled"),H=c("el-icon"),N=c("el-upload"),O=c("el-input"),Q=c("el-tabs"),S=c("el-alert");return l(),a("div",p,[n[15]||(n[15]=s("div",{class:"tool-header"},[s("h2",null,"Base64 编解码")],-1)),t(Q,{modelValue:j.value,"onUpdate:modelValue":n[4]||(n[4]=e=>j.value=e),class:"tool-tabs"},{default:d(()=>[t(q,{label:"文本编解码",name:"text"},{default:d(()=>[s("div",m,[s("div",g,[n[5]||(n[5]=s("div",{class:"panel-header"},"原始文本",-1)),r(s("textarea",{"onUpdate:modelValue":n[0]||(n[0]=e=>D.value=e),class:"code-editor",placeholder:"输入文本...",spellcheck:"false"},null,512),[[u,D.value]])]),s("div",h,[t(v,{type:"primary",onClick:A},{default:d(()=>[...n[6]||(n[6]=[i(" 编码 → ",-1)])]),_:1}),t(v,{type:"success",onClick:J},{default:d(()=>[...n[7]||(n[7]=[i(" ← 解码 ",-1)])]),_:1})]),s("div",y,[s("div",f,[n[9]||(n[9]=i(" Base64 ",-1)),t(v,{size:"small",onClick:K},{default:d(()=>[...n[8]||(n[8]=[i("复制",-1)])]),_:1})]),r(s("textarea",{"onUpdate:modelValue":n[1]||(n[1]=e=>z.value=e),class:"code-editor",placeholder:"Base64 结果...",spellcheck:"false"},null,512),[[u,z.value]])])])]),_:1}),t(q,{label:"图片编解码",name:"image"},{default:d(()=>[s("div",_,[s("div",b,[t(N,{class:"image-uploader",drag:"","auto-upload":!1,"show-file-list":!1,accept:"image/*",onChange:M},{default:d(()=>[t(H,{class:"el-icon--upload"},{default:d(()=>[t(G)]),_:1}),n[10]||(n[10]=s("div",{class:"el-upload__text"},[i(" 拖拽图片到此处，或 "),s("em",null,"点击上传")],-1))]),_:1})]),T.value?(l(),a("div",k,[s("img",{src:T.value,alt:"Preview"},null,8,w)])):o("",!0),I.value?(l(),a("div",x,[s("div",U,[n[12]||(n[12]=i(" Base64 (Data URL) ",-1)),t(v,{size:"small",onClick:P},{default:d(()=>[...n[11]||(n[11]=[i("复制",-1)])]),_:1})]),r(s("textarea",{"onUpdate:modelValue":n[2]||(n[2]=e=>I.value=e),class:"code-editor small",readonly:""},null,512),[[u,I.value]])])):o("",!0),s("div",B,[n[14]||(n[14]=s("div",{class:"panel-header"},"从 Base64 解码图片",-1)),t(O,{modelValue:E.value,"onUpdate:modelValue":n[3]||(n[3]=e=>E.value=e),type:"textarea",rows:3,placeholder:"粘贴 Base64 图片数据 (data:image/... 或纯 Base64)"},null,8,["modelValue"]),t(v,{type:"primary",onClick:W,style:{"margin-top":"10px"}},{default:d(()=>[...n[13]||(n[13]=[i(" 解码显示 ",-1)])]),_:1}),F.value?(l(),a("div",C,[s("img",{src:F.value,alt:"Decoded"},null,8,V)])):o("",!0)])])]),_:1})]),_:1},8,["modelValue"]),L.value?(l(),a("div",R,[t(S,{title:L.value,type:"error","show-icon":"",closable:!1},null,8,["title"])])):o("",!0)])}}},[["__scopeId","data-v-70f4eb1f"]]);export{j as default};
